
<!-- saved from url=(0030)http://poj.org/problem?id=2286 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta http-equiv="Pragma" content="no-cache"><meta http-equiv="Content-Language" content="en-US"><title>2286 -- The Rotation Game</title><link rel="stylesheet" href="./2286 -- The Rotation Game_files/poj.css" type="text/css"><link rel="shortcut icon" href="http://poj.org/poj.ico"><link rel="icon" href="http://poj.org/poj.gif" type="image/gif"><script type="text/javascript" async="" src="./2286 -- The Rotation Game_files/ga.js"></script><script src="./2286 -- The Rotation Game_files/poj.js" language="javascript"></script></head><body lang="en-US" leftmargin="5" link="blue" alink="blue" vlink="blue" onkeydown="KeyDown(event)"><a name="top"></a><table style="BORDER-COLLAPSE: collapse" bordercolor="#ffffff" width="100%" border="1"><tbody><tr><td align="CENTER" colspan="5"><table class="h1" cellpadding="0"><tbody><tr><td width="25%" align="left"><img src="./2286 -- The Rotation Game_files/logo1.jpg" height="100" border="0"></td><td colspan="3" bgcolor="#EAEFFD"><table class="h2"><tbody><tr><td><img border="0" src="./2286 -- The Rotation Game_files/logo0.gif" width="450" height="90"></td><td width="95"><img border="0" src="./2286 -- The Rotation Game_files/logo3.gif" width="95" height="95"></td></tr></tbody></table></td></tr></tbody></table></td></tr><tr valign="top" align="CENTER" bgcolor="#6589d1"><th class="h">Online Judge</th><th class="h">Problem Set</th><th class="h">Authors</th><th class="h">Online Contests</th><th class="h">User</th></tr><tr valign="top" align="CENTER" bgcolor="#f1f1fd"><td class="h" onmouseover="scbg(this, 1)" onmouseout="scbg(this, 0)"><a href="http://poj.org/bbs">Web Board</a><br><a href="http://poj.org/">Home Page</a><br><a href="http://poj.org/page?id=1000" target="_blank">F.A.Qs</a><br><a href="http://poj.org/chart">Statistical Charts</a></td><td class="h" onmouseover="scbg(this, 1)" onmouseout="scbg(this, 0)"><form action="http://poj.org/gotoproblem" method="get"><a href="http://poj.org/problemlist">Problems</a><br><a href="http://poj.org/submit">Submit Problem</a><br><a href="http://poj.org/status">Online Status</a><br><font color="blue">Prob.ID:</font><input type="text" name="pid" size="6"><input type="Submit" value="Go" name="pb1"></form></td><td class="h" onmouseover="scbg(this,1)" onmouseout="scbg(this,0)" style="background-color: rgb(241, 241, 253);"><form method="GET" action="http://poj.org/searchuser"><a href="http://poj.org/register">Register</a><br><a href="http://poj.org/modifyuser">Update your info</a><br><a href="http://poj.org/userlist">Authors ranklist</a><br><input type="text" name="key" size="10"><input type="Submit" value="Search" name="B1"></form></td>
<td class="h" onmouseover="scbg(this,1)" onmouseout="scbg(this,0)" style="background-color: rgb(241, 241, 253);"><font color="#1a5cc8">Current Contest</font><br><a href="http://poj.org/pastcontests">Past Contests</a><br><a href="http://poj.org/contests">Scheduled Contests</a><br><a href="http://poj.org/challenge.html" target="_blank"><font color="red">Award Contest</font></a></td><td align="left" class="h" onmouseover="scbg(this,1)" onmouseout="scbg(this,0)" style="background-color: rgb(241, 241, 253);"><form method="POST" action="http://poj.org/login"><table><tbody><tr><td>User ID:</td><td><input type="text" name="user_id1" size="10" style="font-family:monospace"></td></tr><tr><td>Password:</td><td><input type="password" name="password1" size="10" style="font-family:monospace"></td></tr></tbody></table><input type="Submit" value="login" name="B1">&nbsp;&nbsp;<a href="http://poj.org/register" target="_parent">Register</a><input type="hidden" name="url" value="/problem?id=2286"></form></td></tr></tbody></table><table border="0" width="100%" background="./2286 -- The Rotation Game_files/table_back.jpg"><tbody><tr><td>
<div style="position: absolute; right: 10px;">Language:<select size="1" onchange="window.location.href=&#39;problem?id=2286&amp;lang=&#39;+this.value+&#39;&amp;change=true&#39;"><option value="default" selected="">Default</option></select></div><div class="ptt" lang="en-US">The Rotation Game</div>
<div class="plm"><table align="center"><tbody><tr><td><b>Time Limit:</b> 15000MS</td><td width="10px"></td><td><b>Memory Limit:</b> 150000K</td></tr><tr><td><b>Total Submissions:</b> 4787</td><td width="10px"></td><td><b>Accepted:</b> 1586</td></tr></tbody></table></div><p class="pst">Description</p><div class="ptx" lang="en-US">The rotation game uses a # shaped board, which can hold 24 pieces of square blocks (see Fig.1). The blocks are marked with symbols 1, 2 and 3, with exactly 8 pieces of each kind. 
<br><center><img src="./2286 -- The Rotation Game_files/2286_1.jpg"></center> 
<br>Initially, the blocks are placed on the board randomly. Your task is to move the blocks so that the eight blocks placed in the center square have the same symbol marked. There is only one type of valid move, which is to rotate one of the four lines, each consisting of seven blocks. That is, six blocks in the line are moved towards the head by one block and the head block is moved to the end of the line. The eight possible moves are marked with capital letters A to H. Figure 1 illustrates two consecutive moves, move A and move C from some initial configuration. 
<br></div><p class="pst">Input</p><div class="ptx" lang="en-US">The input consists of no more than 30 test cases. Each test case has only one line that contains 24 numbers, which are the symbols of the blocks in the initial configuration. The rows of blocks are listed from top to bottom. For each row the blocks are listed from left to right. The numbers are separated by spaces. For example, the first test case in the sample input corresponds to the initial configuration in Fig.1. There are no blank lines between cases. There is a line containing a single `0' after the last test case that ends the input. 
<br></div><p class="pst">Output</p><div class="ptx" lang="en-US">For each test case, you must output two lines. The first line contains all the moves needed to reach the final configuration. Each move is a letter, ranging from `A' to `H', and there should not be any spaces between the letters in the line. If no moves are needed, output `No moves needed' instead. In the second line, you must output the symbol of the blocks in the center square after these moves. If there are several possible solutions, you must output the one that uses the least number of moves. If there is still more than one possible solution, you must output the solution that is smallest in dictionary order for the letters of the moves. There is no need to output blank lines between cases. 
<br></div><p class="pst">Sample Input</p><pre class="sio">1 1 1 1 3 2 3 2 3 1 3 2 2 3 1 2 2 2 3 1 2 1 3 3
1 1 1 1 1 1 1 1 2 2 2 2 2 2 2 2 3 3 3 3 3 3 3 3
0
</pre><p class="pst">Sample Output</p><pre class="sio">AC
2
DDHH
2
</pre><p class="pst">Source</p><div class="ptx" lang="en-US"><a href="http://poj.org/searchproblem?field=source&key=Shanghai+2004">Shanghai 2004</a></div></td></tr></tbody></table>
<font color="#333399" size="3"></font><p align="center"><font color="#333399" size="3">
[<a href="http://poj.org/submit?problem_id=2286">Submit</a>]&nbsp;&nbsp;
 [<a href="javascript:history.go(-1)">Go Back</a>]&nbsp;&nbsp; [<a href="http://poj.org/problemstatus?problem_id=2286">Status</a>]&nbsp;&nbsp; 
[<a href="http://poj.org/bbs?problem_id=2286">Discuss</a>]
</font></p>
<p><img height="30" src="./2286 -- The Rotation Game_files/home.gif" width="40" border="0"><font size="3"><a href="http://poj.org/">Home Page</a> </font>&nbsp;&nbsp;<img height="30" src="./2286 -- The Rotation Game_files/goback.gif" width="40" border="0"><font size="3"><a href="javascript:history.go(-1)">Go Back</a>&nbsp;&nbsp;<img height="30" width="40" border="0" src="./2286 -- The Rotation Game_files/top.gif"><a href="http://poj.org/problem?id=2286#top">To top</a></font><br></p><hr><p align="center" style="font-family:Arial, Helvetica, sans-serif">All Rights Reserved 2003-2013 Ying Fuchen,Xu Pengcheng,Xie Di<br>Any problem, Please <a href="mailto:webmaster@poj.org">Contact Administrator</a></p><script type="text/javascript"> var _gaq = _gaq || []; _gaq.push(['_setAccount', 'UA-790353-1']); _gaq.push(['_trackPageview']); (function() { var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true; ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s); })(); </script>
</body></html>