<RibbonWindow x:Class="MazeEditor2.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:MazeEditor2"
        xmlns:mx="http://compiledbindings.com/x"
        xmlns:sys="clr-namespace:System;assembly=mscorlib"
        xmlns:xctk="http://schemas.xceed.com/wpf/xaml/toolkit"
        mc:Ignorable="d mx"
        d:DataContext="{d:DesignInstance Type=local:Maze}"
        mx:DataType="local:Maze"
        Title="MazeEditor2" Height="600" Width="800">
    <RibbonWindow.Resources>
        <local:CharToStringConverter x:Key="CharToStringConverter" />
        <Style TargetType="{x:Type RibbonTextBox}">
            <Setter Property="TextBoxWidth" Value="50" />
        </Style>
    </RibbonWindow.Resources>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <Ribbon VerticalAlignment="Top">
            <!-- Help Pane, located at the right-hand side -->
            <Ribbon.HelpPaneContent>
                <RibbonButton SmallImageSource="Images\help.png" />
            </Ribbon.HelpPaneContent>
            <Ribbon.QuickAccessToolBar>
                <RibbonQuickAccessToolBar>
                    <RibbonButton x:Name ="Copy" SmallImageSource="Images\copy.png" />
                    <RibbonButton x:Name ="Paste" SmallImageSource="Images\paste.png" />
                </RibbonQuickAccessToolBar>
            </Ribbon.QuickAccessToolBar>
            <!-- Application Menu, located at the left-hand side (down arrow) -->
            <Ribbon.ApplicationMenu>
                <RibbonApplicationMenu KeyTip="F">
                    <RibbonApplicationMenuItem Header="Options" ImageSource="Images\options.png" />
                    <RibbonApplicationMenuItem Header="Exit" ImageSource="Images\quit.png" />
                </RibbonApplicationMenu>
            </Ribbon.ApplicationMenu>
            <RibbonTab Header="Home" KeyTip="H">
                <RibbonGroup Header="Clipboard">
                    <RibbonButton x:Name="PasteButton" Label="Paste" LargeImageSource="Images\paste.png" Command="Paste" />
                    <RibbonButton x:Name="CopyButton" Label="Copy" SmallImageSource="Images\copy.png" Command="Copy" />
                </RibbonGroup>
                <RibbonGroup Header="Grid" KeyTip="G">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <Label Content="Height:" />
                        <xctk:ButtonSpinner Grid.Column="1" Spin="ButtonSpinner_Spin">
                            <RibbonTextBox Text="{x:Bind Height, Mode=TwoWay}" />
                        </xctk:ButtonSpinner>
                        <Label Content="Width:" Grid.Row="1" />
                        <xctk:ButtonSpinner Grid.Row="1" Grid.Column="1" Spin="ButtonSpinner_Spin" IsEnabled="{x:Bind not IsSquare, Mode=OneWay}">
                            <RibbonTextBox Text="{x:Bind Width, Mode=TwoWay}" />
                        </xctk:ButtonSpinner>
                    </Grid>
                    <RibbonCheckBox Grid.Row="2" Grid.ColumnSpan="2" Label="Square" IsChecked="{x:Bind IsSquare, Mode=TwoWay}" HorizontalAlignment="Left" MinHeight="30" />
                </RibbonGroup>
                <RibbonGroup Header="Walls" KeyTip="W">
                    <RibbonCheckBox Label="Has Walls" IsChecked="{x:Bind HasWall, Mode=TwoWay}" />
                    <RibbonButton Label="Fill Border Lines" Command="{x:Bind FillBorderLines}" />
                    <RibbonButton Label="Enclose Selected" Command="{x:Bind EncloseSelectedCells}" />
                </RibbonGroup>
                <RibbonGroup Header="Chars" KeyTip="C">
                    <RibbonTextBox Label="Char:" Text="{x:Bind CurObj, Mode=TwoWay, Converter={StaticResource CharToStringConverter}}" />
                    <RibbonButton Label="Fill All" Command="{x:Bind FillAll}" />
                    <RibbonButton Label="Fill Border Cells" Command="{x:Bind FillBorderCells}" />
                </RibbonGroup>
                <RibbonGroup Header="Info" KeyTip="I">
                    <StackPanel Orientation="Vertical">
                        <RibbonTextBox Label="Position:" Text="{x:Bind SelectedPosition.ToString()}" IsReadOnly="True" />
                        <RibbonTextBox Label="Mouse:" Text="{x:Bind MousePosition.ToString()}" IsReadOnly="True" />
                        <RibbonComboBox Label="Movement:" SelectionBoxWidth="50">
                            <RibbonGallery SelectedValue="{x:Bind CurMovement, Mode=TwoWay}">
                                <RibbonGalleryCategory ItemsSource="{x:Bind sys:Enum.GetValues(typeof(local:MazeMovement))}" />
                            </RibbonGallery>
                        </RibbonComboBox>
                    </StackPanel>
                </RibbonGroup>
                <RibbonGroup Header="Clear" KeyTip="E">
                    <RibbonButton Label="Clear All" Command="{x:Bind ClearAll}" />
                    <RibbonButton Label="Clear Walls" Command="{x:Bind ClearWalls}" />
                    <RibbonButton Label="Clear Chars" Command="{x:Bind ClearChars}" />
                </RibbonGroup>
            </RibbonTab>
        </Ribbon>
        <Canvas Grid.Row="1" x:Name="Canvas" Background="Azure"  KeyDown="Canvas_KeyDown" MouseDown="Canvas_MouseDown"
                MouseMove="Canvas_MouseMove" Focusable="True" Loaded="Canvas_Loaded" TextInput="Canvas_TextInput">
            <Canvas.InputBindings>
                <KeyBinding Command="Copy" Gesture="Ctrl+C"/>
                <KeyBinding Command="Paste" Gesture="Ctrl+V"/>
            </Canvas.InputBindings>
        </Canvas>
    </Grid>
</RibbonWindow>
